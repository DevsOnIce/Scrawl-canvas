<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>source\scrawlWheel.js - scrawl-canvas</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="scrawl-canvas"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 5.0.4</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/Action.html">Action</a></li>
            
                <li><a href="../classes/Animation.html">Animation</a></li>
            
                <li><a href="../classes/Base.html">Base</a></li>
            
                <li><a href="../classes/Block.html">Block</a></li>
            
                <li><a href="../classes/BlurFilter.html">BlurFilter</a></li>
            
                <li><a href="../classes/BrightnessFilter.html">BrightnessFilter</a></li>
            
                <li><a href="../classes/Cell.html">Cell</a></li>
            
                <li><a href="../classes/ChannelsFilter.html">ChannelsFilter</a></li>
            
                <li><a href="../classes/ChannelStepFilter.html">ChannelStepFilter</a></li>
            
                <li><a href="../classes/Color.html">Color</a></li>
            
                <li><a href="../classes/Context.html">Context</a></li>
            
                <li><a href="../classes/Design.html">Design</a></li>
            
                <li><a href="../classes/Device.html">Device</a></li>
            
                <li><a href="../classes/Element.html">Element</a></li>
            
                <li><a href="../classes/ElementGroup.html">ElementGroup</a></li>
            
                <li><a href="../classes/Entity.html">Entity</a></li>
            
                <li><a href="../classes/Filter.html">Filter</a></li>
            
                <li><a href="../classes/Force.html">Force</a></li>
            
                <li><a href="../classes/Frame.html">Frame</a></li>
            
                <li><a href="../classes/FramePoint.html">FramePoint</a></li>
            
                <li><a href="../classes/Gradient.html">Gradient</a></li>
            
                <li><a href="../classes/GreyscaleFilter.html">GreyscaleFilter</a></li>
            
                <li><a href="../classes/Group.html">Group</a></li>
            
                <li><a href="../classes/Image.html">Image</a></li>
            
                <li><a href="../classes/InvertFilter.html">InvertFilter</a></li>
            
                <li><a href="../classes/LeachFilter.html">LeachFilter</a></li>
            
                <li><a href="../classes/Link.html">Link</a></li>
            
                <li><a href="../classes/MatrixFilter.html">MatrixFilter</a></li>
            
                <li><a href="../classes/NoiseFilter.html">NoiseFilter</a></li>
            
                <li><a href="../classes/Pad.html">Pad</a></li>
            
                <li><a href="../classes/PageElement.html">PageElement</a></li>
            
                <li><a href="../classes/Particle.html">Particle</a></li>
            
                <li><a href="../classes/Path.html">Path</a></li>
            
                <li><a href="../classes/Pattern.html">Pattern</a></li>
            
                <li><a href="../classes/Phrase.html">Phrase</a></li>
            
                <li><a href="../classes/Picture.html">Picture</a></li>
            
                <li><a href="../classes/PixelateFilter.html">PixelateFilter</a></li>
            
                <li><a href="../classes/Point.html">Point</a></li>
            
                <li><a href="../classes/Position.html">Position</a></li>
            
                <li><a href="../classes/Quaternion.html">Quaternion</a></li>
            
                <li><a href="../classes/RadialGradient.html">RadialGradient</a></li>
            
                <li><a href="../classes/SaturationFilter.html">SaturationFilter</a></li>
            
                <li><a href="../classes/SeparateFilter.html">SeparateFilter</a></li>
            
                <li><a href="../classes/Shape.html">Shape</a></li>
            
                <li><a href="../classes/Spring.html">Spring</a></li>
            
                <li><a href="../classes/SpriteAnimation.html">SpriteAnimation</a></li>
            
                <li><a href="../classes/Stack.html">Stack</a></li>
            
                <li><a href="../classes/Text.html">Text</a></li>
            
                <li><a href="../classes/ThresholdFilter.html">ThresholdFilter</a></li>
            
                <li><a href="../classes/Timeline.html">Timeline</a></li>
            
                <li><a href="../classes/TintFilter.html">TintFilter</a></li>
            
                <li><a href="../classes/Tween.html">Tween</a></li>
            
                <li><a href="../classes/Vector.html">Vector</a></li>
            
                <li><a href="../classes/Video.html">Video</a></li>
            
                <li><a href="../classes/Wheel.html">Wheel</a></li>
            
                <li><a href="../classes/window.scrawl.html">window.scrawl</a></li>
            
                <li><a href="../classes/window.scrawl_Animation.html">window.scrawl_Animation</a></li>
            
                <li><a href="../classes/window.scrawl_Block.html">window.scrawl_Block</a></li>
            
                <li><a href="../classes/window.scrawl_Collisions.html">window.scrawl_Collisions</a></li>
            
                <li><a href="../classes/window.scrawl_Color.html">window.scrawl_Color</a></li>
            
                <li><a href="../classes/window.scrawl_Factories.html">window.scrawl_Factories</a></li>
            
                <li><a href="../classes/window.scrawl_Filters.html">window.scrawl_Filters</a></li>
            
                <li><a href="../classes/window.scrawl_Frame.html">window.scrawl_Frame</a></li>
            
                <li><a href="../classes/window.scrawl_Images.html">window.scrawl_Images</a></li>
            
                <li><a href="../classes/window.scrawl_Path.html">window.scrawl_Path</a></li>
            
                <li><a href="../classes/window.scrawl_Phrase.html">window.scrawl_Phrase</a></li>
            
                <li><a href="../classes/window.scrawl_Physics.html">window.scrawl_Physics</a></li>
            
                <li><a href="../classes/window.scrawl_SaveLoad.html">window.scrawl_SaveLoad</a></li>
            
                <li><a href="../classes/window.scrawl_Shape.html">window.scrawl_Shape</a></li>
            
                <li><a href="../classes/window.scrawl_Stacks.html">window.scrawl_Stacks</a></li>
            
                <li><a href="../classes/window.scrawl_Wheel.html">window.scrawl_Wheel</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/scrawlAnimation.html">scrawlAnimation</a></li>
            
                <li><a href="../modules/scrawlBlock.html">scrawlBlock</a></li>
            
                <li><a href="../modules/scrawlCollisions.html">scrawlCollisions</a></li>
            
                <li><a href="../modules/scrawlColor.html">scrawlColor</a></li>
            
                <li><a href="../modules/scrawlCore.html">scrawlCore</a></li>
            
                <li><a href="../modules/scrawlFilters.html">scrawlFilters</a></li>
            
                <li><a href="../modules/scrawlFrame.html">scrawlFrame</a></li>
            
                <li><a href="../modules/scrawlImages.html">scrawlImages</a></li>
            
                <li><a href="../modules/scrawlPath.html">scrawlPath</a></li>
            
                <li><a href="../modules/scrawlPathFactories.html">scrawlPathFactories</a></li>
            
                <li><a href="../modules/scrawlPhrase.html">scrawlPhrase</a></li>
            
                <li><a href="../modules/scrawlPhysics.html">scrawlPhysics</a></li>
            
                <li><a href="../modules/scrawlSaveLoad.html">scrawlSaveLoad</a></li>
            
                <li><a href="../modules/scrawlShape.html">scrawlShape</a></li>
            
                <li><a href="../modules/scrawlStacks.html">scrawlStacks</a></li>
            
                <li><a href="../modules/scrawlWheel.html">scrawlWheel</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: source\scrawlWheel.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
//---------------------------------------------------------------------------------
// The MIT License (MIT)
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the &quot;Software&quot;), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
// 
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
// 
// THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.
//---------------------------------------------------------------------------------
/**
# scrawlWheel

## Purpose and features

The Wheel extension adds Wheel entitys - circles, segments and filled arcs - to the core module

* Defines &#x27;arc&#x27; objects for displaying on a Cell&#x27;s canvas
* Performs &#x27;arc&#x27; based drawing operations on canvases

@module scrawlWheel
**/
if (window.scrawl &amp;&amp; window.scrawl.work.extensions &amp;&amp; !window.scrawl.contains(window.scrawl.work.extensions, &#x27;wheel&#x27;)) {
	var scrawl = (function(my) {
		&#x27;use strict&#x27;;

		/**
# window.scrawl

scrawlWheel extension adaptions to the scrawl-canvas library object

@class window.scrawl_Wheel
**/

		/**
Alias for makeWheel()
@method newWheel
@deprecated
**/
		my.newWheel = function(items) {
			return my.makeWheel(items);
		};
		/**
A __factory__ function to generate new Wheel entitys
@method makeWheel
@param {Object} items Key:value Object argument for setting attributes
@return Wheel object
@example
	scrawl.makeWheel({
		radius: 50,
		startX: 150,
		startY: 60,
		fillStyle: &#x27;blue&#x27;,
		strokeStyle: &#x27;red&#x27;,
		method: &#x27;drawFill&#x27;,
		});
**/
		my.makeWheel = function(items) {
			return new my.Wheel(items);
		};
		/**
Work vector, for wheel-specific calculations
@property scrawl.work.workwheel
@type {Vector}
@private
**/
		my.work.workwheel = {
			v1: my.makeVector(),
		};
		/**
# Wheel

## Instantiation

* scrawl.makeWheel()

## Purpose

* Defines &#x27;arc&#x27; objects for displaying on a Cell&#x27;s canvas
* Performs &#x27;arc&#x27; based drawing operations on canvases

## Access

* scrawl.entity.WHEELNAME - for the Wheel entity object

@class Wheel
@constructor
@extends Entity
@param {Object} [items] Key:value Object argument for setting attributes
**/
		my.Wheel = function Wheel(items) {
			var get = my.xtGet,
			d = my.work.d.Wheel;
			items = my.safeObject(items);
			my.Entity.call(this, items);
			my.Position.prototype.set.call(this, items);
			/**
Circle radius - can be an absolute Numbewr value, or a percentage String value (relative to the Cell&#x27;s width)
@property radius
@type Number (or String)
@default 0
**/
			this.radius = get(items.radius, d.radius);
			this.localRadius = this.setRadius(this.radius);
			this.width = this.localRadius * 2;
			this.height = this.width;
			this.checkHitUsingRadius = get(items.checkHitUsingRadius, d.checkHitUsingRadius);
			this.checkHitRadius = get(items.checkHitRadius, 0);
			this.localCheckHitRadius = this.setRadius(this.checkHitRadius);
			this.closed = get(items.closed, d.closed);
			this.includeCenter = get(items.includeCenter, d.includeCenter);
			this.clockwise = get(items.clockwise, d.clockwise);
			this.registerInLibrary();
			my.pushUnique(my.group[this.group].entitys, this.name);
			return this;
		};
		my.Wheel.prototype = Object.create(my.Entity.prototype);
		/**
@property type
@type String
@default &#x27;Wheel&#x27;
@final
**/
		my.Wheel.prototype.type = &#x27;Wheel&#x27;;
		my.Wheel.prototype.classname = &#x27;entitynames&#x27;;
		my.work.d.Wheel = {
			/**
Angle of the path&#x27;s start point, from due east, in degrees
@property startAngle
@type Number
@default 0
**/
			startAngle: 0,
			/**
Angle of the path&#x27;s end point, from due east, in degrees
@property endAngle
@type Number
@default 360
**/
			endAngle: 360,
			/**
Drawing flag - true to draw the arc in a clockwise direction; false for anti-clockwise
@property clockwise
@type Boolean
@default false
**/
			clockwise: false,
			/**
Drawing flag - true to close the path; false to keep the path open
@property closed
@type Boolean
@default true
**/
			closed: true,
			/**
Drawing flag - true to include the center in the path (for wedge shapes); false for circles
@property includeCenter
@type Boolean
@default false
**/
			includeCenter: false,
			/**
Collision calculation flag - true to use a simple radius check; false to use the JavaScript isPointInPath() function
@property checkHitUsingRadius
@type Boolean
@default true
**/
			checkHitUsingRadius: true,
			/**
Collision calculation value - collision radius, from start vector

May be an absolute number value, or a percentage String (relative to the Cell&#x27;s width)
@property checkHitRadius
@type Number (or String)
@default 0
**/
			checkHitRadius: 0,
			/**
Calculated radius value
@property localRadius
@type Number
@default 0
@private
**/
			localRadius: 0,
			/**
Collision calculation value - collision radius, from start vector
@property localCheckHitRadius
@type Number
@default 0
@private
**/
			localCheckHitRadius: 0
		};
		my.mergeInto(my.work.d.Wheel, my.work.d.Entity);

		/**
Augments Entity.set()
@method set
@param {Object} items Object consisting of key:value attributes
@return This
@chainable
**/
		my.Wheel.prototype.set = function(items) {
			var xt = my.xt;
			my.Entity.prototype.set.call(this, items);
			if (xt(items.radius)) {
				this.radius = items.radius;
				this.localRadius = this.setRadius(this.radius);
				this.width = this.localRadius * 2;
				this.height = this.width;
				this.maxDimensions.flag = true;
			}
			if (xt(items.checkHitRadius)) {
				this.localCheckHitRadius = this.setRadius(this.checkHitRadius);
			}
			return this;
		};
		/**
set helper function
@method setRadius
@return Number - local radius value
@private
**/
		my.Wheel.prototype.setRadius = function(item) {
			var cell;
			if (item.toFixed) {
				return item;
			}
			cell = my.cell[my.group[this.group].cell];
			if (my.xt(cell, cell.actualWidth)) {
				return (parseFloat(item) / 100) * cell.actualWidth;
			}
			return 0;
		};
		/**
Augments Entity.setDelta()
@method setDelta
@param {Object} items Object consisting of key:value attributes
@return This
@chainable
**/
		my.Wheel.prototype.setDelta = function(items) {
			var xt = my.xt,
				r;
			my.Entity.prototype.setDelta.call(this, items);
			items = my.safeObject(items);
			if (xt(items.radius)) {
				r = this.setRadius(items.radius);
				if (items.radius.substring) {
					this.radius = my.addPercentages(this.radius, items.radius);
				}
				this.localRadius += r;
				this.width = this.localRadius * 2;
				this.height = this.width;
				this.maxDimensions.flag = true;
			}
			if (xt(items.checkHitRadius)) {
				r = this.setRadius(items.checkHitRadius);
				if (items.checkHitRadius.substring) {
					this.checkHitRadius = my.addPercentages(this.checkHitRadius, items.checkHitRadius);
				}
				this.localCheckHitRadius += r;
			}
			if (xt(items.startAngle)) {
				this.startAngle = this.get(&#x27;startAngle&#x27;) + items.startAngle;
			}
			if (xt(items.endAngle)) {
				this.endAngle = this.get(&#x27;endAngle&#x27;) + items.endAngle;
			}
			return this;
		};
		/**
Check a set of coordinates to see if any of them fall within this entity&#x27;s path - uses JavaScript&#x27;s _isPointInPath_ function

Argument object contains the following attributes:

* __tests__ - an array of Vector coordinates to be checked; alternatively can be a single Vector
* __x__ - X coordinate
* __y__ - Y coordinate
* __pad__ - PADNAME String

Either the &#x27;tests&#x27; attribute should contain a Vector, or an array of vectors, or the x and y attributes should be set to Number values

If the __checkHitUsingRadius__ attribute is true, collisions will be detected using a simple distance comparison; otherwise the JavaScript isPointInPath() function will be invoked
@method checkHit
@param {Object} items Argument object
@return The first coordinate to fall within the entity&#x27;s path; false if none fall within the path
**/
		my.Wheel.prototype.checkHit = function(items) {
			var i,
				iz,
				tests,
				result,
				testRadius,
				cvx = my.work.cvx,
				v1 = my.work.workwheel.v1,
				handle,
				start,
				scale,
				roll,
				reverse,
				upend;
			items = my.safeObject(items);
			tests = (my.xt(items.tests)) ? items.tests : [(items.x || false), (items.y || false)];
			result = false;
			if (this.checkHitUsingRadius) {
				testRadius = (this.localCheckHitRadius) ? this.localCheckHitRadius : this.localRadius * this.scale;
				handle = this.currentHandle;
				if (!handle.flag) {
					this.updateCurrentHandle();
				}
				start = this.currentStart;
				roll = this.roll;
				scale = this.scale;
				reverse = this.flipReverse;
				upend = this.flipUpend;
				for (i = 0, iz = tests.length; i &lt; iz; i += 2) {
					v1.x = tests[i];
					v1.y = tests[i + 1];
					v1.vectorSubtract(start).scalarDivide(scale).rotate(-roll);
					v1.x = (reverse) ? -v1.x : v1.x;
					v1.y = (upend) ? -v1.y : v1.y;
					v1.vectorSubtract(handle);
					result = (v1.getMagnitude() &lt;= testRadius) ? true : false;
					if (result) {
						items.x = tests[i];
						items.y = tests[i + 1];
						break;
					}
				}
			}
			else {
				this.buildPath(cvx);
				for (i = 0, iz = tests.length; i &lt; iz; i += 2) {
					result = cvx.isPointInPath(tests[i], tests[i + 1]);
					if (result) {
						items.x = tests[i];
						items.y = tests[i + 1];
						break;
					}
				}
			}
			return (result) ? items : false;
		};
		/**
Stamp helper function - define the entity&#x27;s path on the &amp;lt;canvas&amp;gt; element&#x27;s context engine
@method buildPath
@param {Object} ctx JavaScript context engine for Cell&#x27;s &amp;lt;canvas&amp;gt; element
@param {String} cell CELLNAME string of Cell to be drawn on; by default, will use the Cell associated with this entity&#x27;s Group object
@return This
@chainable
@private
**/
		my.Wheel.prototype.buildPath = function(ctx, cell) {
			var here = this.currentHandle,
				startAngle = this.startAngle || 0,
				endAngle = this.endAngle || 360,
				rad = my.work.radian;
			this.rotateCell(ctx, cell);
			ctx.beginPath();
			ctx.arc(here.x, here.y, (this.localRadius * this.scale), (startAngle * rad), (endAngle * rad), this.clockwise);
			if (this.includeCenter) {
				ctx.lineTo(here.x, here.y);
			}
			if (this.closed) {
				ctx.closePath();
			}
			return this;
		};
		/**
Stamp helper function - perform a &#x27;clip&#x27; method draw
@method clip
@param {Object} ctx JavaScript context engine for Cell&#x27;s &amp;lt;canvas&amp;gt; element
@param {String} cell CELLNAME string of Cell to be drawn on; by default, will use the Cell associated with this entity&#x27;s Group object
@return This
@chainable
@private
**/
		my.Wheel.prototype.clip = function(ctx, cellname, cell) {
			this.buildPath(ctx, cell);
			ctx.clip();
			return this;
		};
		/**
Stamp helper function - perform a &#x27;clear&#x27; method draw
@method clear
@param {Object} ctx JavaScript context engine for Cell&#x27;s &amp;lt;canvas&amp;gt; element
@param {String} cell CELLNAME string of Cell to be drawn on; by default, will use the Cell associated with this entity&#x27;s Group object
@return This
@chainable
@private
**/
		my.Wheel.prototype.clear = function(ctx, cellname, cell) {
			ctx.globalCompositeOperation = &#x27;destination-out&#x27;;
			this.buildPath(ctx, cell);
			ctx.stroke();
			ctx.fill();
			ctx.globalCompositeOperation = my.ctx[cellname].get(&#x27;globalCompositeOperation&#x27;);
			return this;
		};
		/**
Stamp helper function - perform a &#x27;clearWithBackground&#x27; method draw
@method clearWithBackground
@param {Object} ctx JavaScript context engine for Cell&#x27;s &amp;lt;canvas&amp;gt; element
@param {String} cell CELLNAME string of Cell to be drawn on; by default, will use the Cell associated with this entity&#x27;s Group object
@return This
@chainable
@private
**/
		my.Wheel.prototype.clearWithBackground = function(ctx, cellname, cell) {
			var myCell,
				bc,
				myCellCtx,
				fillStyle,
				strokeStyle,
				globalAlpha;
			myCell = cell;
			bc = myCell.get(&#x27;backgroundColor&#x27;);
			myCellCtx = my.ctx[cellname];
			fillStyle = myCellCtx.get(&#x27;fillStyle&#x27;);
			strokeStyle = myCellCtx.get(&#x27;strokeStyle&#x27;);
			globalAlpha = myCellCtx.get(&#x27;globalAlpha&#x27;);
			ctx.fillStyle = bc;
			ctx.strokeStyle = bc;
			ctx.globalAlpha = 1;
			this.buildPath(ctx, cell);
			ctx.stroke();
			ctx.fill();
			ctx.fillStyle = fillStyle;
			ctx.strokeStyle = strokeStyle;
			ctx.globalAlpha = globalAlpha;
			return this;
		};
		/**
Stamp helper function - perform a &#x27;draw&#x27; method draw
@method draw
@param {Object} ctx JavaScript context engine for Cell&#x27;s &amp;lt;canvas&amp;gt; element
@param {String} cell CELLNAME string of Cell to be drawn on; by default, will use the Cell associated with this entity&#x27;s Group object
@return This
@chainable
@private
**/
		my.Wheel.prototype.draw = function(ctx, cellname, cell) {
			cell.setEngine(this);
			this.buildPath(ctx, cell);
			ctx.stroke();
			return this;
		};
		/**
Stamp helper function - perform a &#x27;fill&#x27; method draw
@method fill
@param {Object} ctx JavaScript context engine for Cell&#x27;s &amp;lt;canvas&amp;gt; element
@param {String} cell CELLNAME string of Cell to be drawn on; by default, will use the Cell associated with this entity&#x27;s Group object
@return This
@chainable
@private
**/
		my.Wheel.prototype.fill = function(ctx, cellname, cell) {
			cell.setEngine(this);
			this.buildPath(ctx, cell);
			ctx.fill();
			return this;
		};
		/**
Stamp helper function - perform a &#x27;drawFill&#x27; method draw
@method drawFill
@param {Object} ctx JavaScript context engine for Cell&#x27;s &amp;lt;canvas&amp;gt; element
@param {String} cell CELLNAME string of Cell to be drawn on; by default, will use the Cell associated with this entity&#x27;s Group object
@return This
@chainable
@private
**/
		my.Wheel.prototype.drawFill = function(ctx, cellname, cell) {
			cell.setEngine(this);
			this.buildPath(ctx, cell);
			ctx.stroke();
			this.clearShadow(ctx, cell);
			ctx.fill();
			return this;
		};
		/**
Stamp helper function - perform a &#x27;fillDraw&#x27; method draw
@method fillDraw
@param {Object} ctx JavaScript context engine for Cell&#x27;s &amp;lt;canvas&amp;gt; element
@param {String} cell CELLNAME string of Cell to be drawn on; by default, will use the Cell associated with this entity&#x27;s Group object
@return This
@chainable
@private
**/
		my.Wheel.prototype.fillDraw = function(ctx, cellname, cell) {
			cell.setEngine(this);
			this.buildPath(ctx, cell);
			ctx.fill();
			this.clearShadow(ctx, cell);
			ctx.stroke();
			return this;
		};
		/**
Stamp helper function - perform a &#x27;sinkInto&#x27; method draw
@method sinkInto
@param {Object} ctx JavaScript context engine for Cell&#x27;s &amp;lt;canvas&amp;gt; element
@param {String} cell CELLNAME string of Cell to be drawn on; by default, will use the Cell associated with this entity&#x27;s Group object
@return This
@chainable
@private
**/
		my.Wheel.prototype.sinkInto = function(ctx, cellname, cell) {
			cell.setEngine(this);
			this.buildPath(ctx, cell);
			ctx.fill();
			ctx.stroke();
			return this;
		};
		/**
Stamp helper function - perform a &#x27;floatOver&#x27; method draw
@method floatOver
@param {Object} ctx JavaScript context engine for Cell&#x27;s &amp;lt;canvas&amp;gt; element
@param {String} cell CELLNAME string of Cell to be drawn on; by default, will use the Cell associated with this entity&#x27;s Group object
@return This
@chainable
@private
**/
		my.Wheel.prototype.floatOver = function(ctx, cellname, cell) {
			cell.setEngine(this);
			this.buildPath(ctx, cell);
			ctx.stroke();
			ctx.fill();
			return this;
		};
		/**
Stamp helper function - perform a &#x27;none&#x27; method draw
@method none
@param {Object} ctx JavaScript context engine for Cell&#x27;s &amp;lt;canvas&amp;gt; element
@param {String} cell CELLNAME string of Cell to be drawn on; by default, will use the Cell associated with this entity&#x27;s Group object
@return This
@chainable
@private
**/
		my.Wheel.prototype.none = function(ctx, cellname, cell) {
			this.buildPath(ctx, cell);
			return this;
		};
		/**
Collision detection helper function

Parses the collisionPoints array to generate coordinate Vectors representing the entity&#x27;s collision points
@method buildCollisionVectors
@param {Array} [items] Array of collision point data
@return This
@chainable
@private
**/
		my.Wheel.prototype.buildCollisionVectors = function(items) {
			var p,
				r,
				i,
				iz,
				j,
				v1, v2;
			if (my.xt(my.workcols)) {
				v1 = my.workcols.v1;
				v2 = my.workcols.v2;
				this.collisionVectors.length = 0;
				v1.x = this.localRadius;
				v1.y = 0;
				p = (my.xt(items)) ? this.parseCollisionPoints(items) : this.collisionPoints;
				for (i = 0, iz = p.length; i &lt; iz; i++) {
					if (p[i].toFixed &amp;&amp; p[i] &gt; 1) {
						v2.set(v1);
						r = 360 / Math.floor(p[i]);
						for (j = 0; j &lt; p[i]; j++) {
							v2.rotate(r);
							this.collisionVectors.push(v2.x);
							this.collisionVectors.push(v2.y);
						}
					}
					else if (p[i].substring) {
						v2.set(v1);
						switch (p[i]) {
							case &#x27;start&#x27;:
								this.collisionVectors.push(0);
								this.collisionVectors.push(0);
								break;
							case &#x27;N&#x27;:
								v2.rotate(-90);
								this.collisionVectors.push(v2.x);
								this.collisionVectors.push(v2.y);
								break;
							case &#x27;NE&#x27;:
								v2.rotate(-45);
								this.collisionVectors.push(v2.x);
								this.collisionVectors.push(v2.y);
								break;
							case &#x27;E&#x27;:
								this.collisionVectors.push(v2.x);
								this.collisionVectors.push(v2.y);
								break;
							case &#x27;SE&#x27;:
								v2.rotate(45);
								this.collisionVectors.push(v2.x);
								this.collisionVectors.push(v2.y);
								break;
							case &#x27;S&#x27;:
								v2.rotate(90);
								this.collisionVectors.push(v2.x);
								this.collisionVectors.push(v2.y);
								break;
							case &#x27;SW&#x27;:
								v2.rotate(135);
								this.collisionVectors.push(v2.x);
								this.collisionVectors.push(v2.y);
								break;
							case &#x27;W&#x27;:
								v2.rotate(180);
								this.collisionVectors.push(v2.x);
								this.collisionVectors.push(v2.y);
								break;
							case &#x27;NW&#x27;:
								v2.rotate(-135);
								this.collisionVectors.push(v2.x);
								this.collisionVectors.push(v2.y);
								break;
							case &#x27;center&#x27;:
								this.collisionVectors.push(0);
								this.collisionVectors.push(0);
								break;
						}
					}
					else if (my.isa_vector(p[i])) {
						this.collisionVectors.push(p[i].x);
						this.collisionVectors.push(p[i].y);
					}
				}
			}
			return this;
		};

		/**
Calculate the box position of the entity

Returns an object with the following attributes:

* __left__ - x coordinate of top-left corner of the enclosing box relative to the current cell&#x27;s top-left corner
* __top__ - y coordinate of top-left corner of the enclosing box relative to the current cell&#x27;s top-left corner
* __bottom__ - x coordinate of bottom-right corner of the enclosing box relative to the current cell&#x27;s top-left corner
* __left__ - y coordinate of bottom-right corner of the enclosing box relative to the current cell&#x27;s top-left corner

@method getMaxDimensions
@param {Object} cell object
@param {Object} entity object
@return dimensions object
@private
**/
		my.Wheel.prototype.getMaxDimensions = function(cell) {
			var rad = (this.localRadius * this.scale),
				w = cell.actualWidth,
				h = cell.actualHeight,
				line = my.ctx[this.context].lineWidth || 0,
				ceil = Math.ceil,
				floor = Math.floor,
				md = this.maxDimensions,
				roll = this.roll,
				t, l, b, r,
				v = my.work.v;
			v.set(this.currentHandle);
			v.x = (this.flipReverse) ? -v.x : v.x;
			v.y = (this.flipUpend) ? -v.y : v.y;
			if (roll) {
				v.rotate(roll).vectorAdd(this.currentStart);
			}
			else {
				v.vectorAdd(this.currentStart);
			}
			t = v.y - line - rad;
			t = (t &lt; 0) ? 0 : t;
			b = v.y + line + rad;
			b = (b &gt; h) ? h : b;
			l = v.x - line - rad;
			l = (l &lt; 0) ? 0 : l;
			r = v.x + line + rad;
			r = (r &gt; w) ? w : r;
			md.top = floor(t);
			md.bottom = ceil(b);
			md.left = floor(l);
			md.right = ceil(r);
			md.flag = false;
			return md;
		};

		return my;
	}(scrawl));
}

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
