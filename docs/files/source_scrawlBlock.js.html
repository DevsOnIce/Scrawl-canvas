<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>source\scrawlBlock.js - scrawl</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="scrawl"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 3.1.5</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/Animation.html">Animation</a></li>
            
                <li><a href="../classes/AnimSheet.html">AnimSheet</a></li>
            
                <li><a href="../classes/Base.html">Base</a></li>
            
                <li><a href="../classes/Block.html">Block</a></li>
            
                <li><a href="../classes/Cell.html">Cell</a></li>
            
                <li><a href="../classes/Color.html">Color</a></li>
            
                <li><a href="../classes/Context.html">Context</a></li>
            
                <li><a href="../classes/Design.html">Design</a></li>
            
                <li><a href="../classes/Element.html">Element</a></li>
            
                <li><a href="../classes/Force.html">Force</a></li>
            
                <li><a href="../classes/Gradient.html">Gradient</a></li>
            
                <li><a href="../classes/Group.html">Group</a></li>
            
                <li><a href="../classes/Link.html">Link</a></li>
            
                <li><a href="../classes/Pad.html">Pad</a></li>
            
                <li><a href="../classes/PageElement.html">PageElement</a></li>
            
                <li><a href="../classes/Particle.html">Particle</a></li>
            
                <li><a href="../classes/Path.html">Path</a></li>
            
                <li><a href="../classes/Pattern.html">Pattern</a></li>
            
                <li><a href="../classes/Phrase.html">Phrase</a></li>
            
                <li><a href="../classes/Picture.html">Picture</a></li>
            
                <li><a href="../classes/Point.html">Point</a></li>
            
                <li><a href="../classes/Position.html">Position</a></li>
            
                <li><a href="../classes/Quaternion.html">Quaternion</a></li>
            
                <li><a href="../classes/RadialGradient.html">RadialGradient</a></li>
            
                <li><a href="../classes/ScrawlImage.html">ScrawlImage</a></li>
            
                <li><a href="../classes/Shape.html">Shape</a></li>
            
                <li><a href="../classes/Spring.html">Spring</a></li>
            
                <li><a href="../classes/Sprite.html">Sprite</a></li>
            
                <li><a href="../classes/Stack.html">Stack</a></li>
            
                <li><a href="../classes/Text.html">Text</a></li>
            
                <li><a href="../classes/Tween.html">Tween</a></li>
            
                <li><a href="../classes/Vector.html">Vector</a></li>
            
                <li><a href="../classes/Wheel.html">Wheel</a></li>
            
                <li><a href="../classes/window.scrawl.html">window.scrawl</a></li>
            
                <li><a href="../classes/window.scrawl_Animation.html">window.scrawl_Animation</a></li>
            
                <li><a href="../classes/window.scrawl_Block.html">window.scrawl_Block</a></li>
            
                <li><a href="../classes/window.scrawl_Collisions.html">window.scrawl_Collisions</a></li>
            
                <li><a href="../classes/window.scrawl_Color.html">window.scrawl_Color</a></li>
            
                <li><a href="../classes/window.scrawl_Factories.html">window.scrawl_Factories</a></li>
            
                <li><a href="../classes/window.scrawl_Filters.html">window.scrawl_Filters</a></li>
            
                <li><a href="../classes/window.scrawl_Images.html">window.scrawl_Images</a></li>
            
                <li><a href="../classes/window.scrawl_Path.html">window.scrawl_Path</a></li>
            
                <li><a href="../classes/window.scrawl_Phrase.html">window.scrawl_Phrase</a></li>
            
                <li><a href="../classes/window.scrawl_Physics.html">window.scrawl_Physics</a></li>
            
                <li><a href="../classes/window.scrawl_SaveLoad.html">window.scrawl_SaveLoad</a></li>
            
                <li><a href="../classes/window.scrawl_Shape.html">window.scrawl_Shape</a></li>
            
                <li><a href="../classes/window.scrawl_Stacks.html">window.scrawl_Stacks</a></li>
            
                <li><a href="../classes/window.scrawl_Wheel.html">window.scrawl_Wheel</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/scrawlAnimation.html">scrawlAnimation</a></li>
            
                <li><a href="../modules/scrawlBlock.html">scrawlBlock</a></li>
            
                <li><a href="../modules/scrawlCollisions.html">scrawlCollisions</a></li>
            
                <li><a href="../modules/scrawlColor.html">scrawlColor</a></li>
            
                <li><a href="../modules/scrawlCore.html">scrawlCore</a></li>
            
                <li><a href="../modules/scrawlFilters.html">scrawlFilters</a></li>
            
                <li><a href="../modules/scrawlImages.html">scrawlImages</a></li>
            
                <li><a href="../modules/scrawlPath.html">scrawlPath</a></li>
            
                <li><a href="../modules/scrawlPathFactories.html">scrawlPathFactories</a></li>
            
                <li><a href="../modules/scrawlPhrase.html">scrawlPhrase</a></li>
            
                <li><a href="../modules/scrawlPhysics.html">scrawlPhysics</a></li>
            
                <li><a href="../modules/scrawlSaveLoad.html">scrawlSaveLoad</a></li>
            
                <li><a href="../modules/scrawlShape.html">scrawlShape</a></li>
            
                <li><a href="../modules/scrawlStacks.html">scrawlStacks</a></li>
            
                <li><a href="../modules/scrawlWheel.html">scrawlWheel</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: source\scrawlBlock.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
//---------------------------------------------------------------------------------
// The MIT License (MIT)
//
// Copyright (c) 2014 Richard James Roots
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the &quot;Software&quot;), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
// 
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
// 
// THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.
//---------------------------------------------------------------------------------

/**
# scrawlBlock

## Purpose and features

The Block module adds Block sprites - squares and rectangles - to the core module

* Defines &#x27;rect&#x27; objects for displaying on a Cell&#x27;s canvas
* Performs &#x27;rect&#x27; based drawing operations on canvases

@module scrawlBlock
**/

var scrawl = (function(my){
	&#x27;use strict&#x27;;
/**
# window.scrawl

scrawlBlock module adaptions to the Scrawl library object

@class window.scrawl_Block
**/

/**
A __factory__ function to generate new Block sprites
@method newBlock
@param {Object} items Key:value Object argument for setting attributes
@return Block object
@example
	scrawl.newBlock({
		width: 100,
		height: 50,
		startX: 150,
		startY: 60,
		fillStyle: &#x27;blue&#x27;,
		strokeStyle: &#x27;red&#x27;,
		roll: 30,
		method: &#x27;sinkInto&#x27;,
		});
**/
	my.newBlock = function(items){
		return new my.Block(items);
		};

/**
# Block
	
## Instantiation

* scrawl.newBlock()

## Purpose

* Defines &#x27;rect&#x27; objects for displaying on a Cell&#x27;s canvas
* Performs &#x27;rect&#x27; based drawing operations on canvases

## Access

* scrawl.sprite.BLOCKNAME - for the Block sprite object

@class Block
@constructor
@extends Sprite
@param {Object} [items] Key:value Object argument for setting attributes
**/		
	my.Block = function Block(items){
		items = my.safeObject(items);
		my.Sprite.call(this, items);
		my.Position.prototype.set.call(this, items);
		this.width = items.width || my.d.Block.width;
		this.height = items.height || my.d.Block.height;
		this.registerInLibrary();
		my.pushUnique(my.group[this.group].sprites, this.name);
		return this;
		};
	my.Block.prototype = Object.create(my.Sprite.prototype);
/**
@property type
@type String
@default &#x27;Block&#x27;
@final
**/		
	my.Block.prototype.type = &#x27;Block&#x27;;
	my.Block.prototype.classname = &#x27;spritenames&#x27;;
	my.d.Block = {};
	my.mergeInto(my.d.Block, my.d.Sprite);
/**
Stamp helper function - perform a &#x27;clip&#x27; method draw
@method clip
@param {String} cell CELLNAME string of Cell to be drawn on; by default, will use the Cell associated with this sprite&#x27;s Group object
@param {Object} ctx JavaScript context engine for Cell&#x27;s &amp;lt;canvas&amp;gt; element
@return This
@chainable
@private
**/
	my.Block.prototype.clip = function(ctx, cell){
		var here = this.prepareStamp();
		ctx.save();
		this.rotateCell(ctx);
		ctx.beginPath();
		ctx.rect(here.x, here.y, (this.width * this.scale), (this.height * this.scale));
		ctx.clip();
		return this;
		};
/**
Stamp helper function - perform a &#x27;clear&#x27; method draw
@method clear
@param {Object} ctx JavaScript context engine for Cell&#x27;s &amp;lt;canvas&amp;gt; element
@param {String} cell CELLNAME string of Cell to be drawn on; by default, will use the Cell associated with this sprite&#x27;s Group object
@return This
@chainable
@private
**/
	my.Block.prototype.clear = function(ctx, cell){
		var here = this.prepareStamp();
		my.cell[cell].setToClearShape();
		this.rotateCell(ctx);
		ctx.clearRect(here.x, here.y, (this.width * this.scale), (this.height * this.scale));
		return this;
		};
/**
Stamp helper function - perform a &#x27;clearWithBackground&#x27; method draw
@method clearWithBackground
@param {Object} ctx JavaScript context engine for Cell&#x27;s &amp;lt;canvas&amp;gt; element
@param {String} cell CELLNAME string of Cell to be drawn on; by default, will use the Cell associated with this sprite&#x27;s Group object
@return This
@chainable
@private
**/
	my.Block.prototype.clearWithBackground = function(ctx, cell){
		var myCell = my.cell[cell],
			bg = myCell.get(&#x27;backgroundColor&#x27;),
			myCellCtx = my.ctx[cell],
			fillStyle = myCellCtx.get(&#x27;fillStyle&#x27;),
			strokeStyle = myCellCtx.get(&#x27;strokeStyle&#x27;),
			globalAlpha = myCellCtx.get(&#x27;globalAlpha&#x27;),
			here = this.prepareStamp(),
			width = this.width * this.scale,
			height = this.height * this.scale;
		this.rotateCell(ctx);
		ctx.fillStyle = bg;
		ctx.strokeStyle = bg;
		ctx.globalAlpha = 1;
		ctx.strokeRect(here.x, here.y, width, height);
		ctx.fillRect(here.x, here.y, width, height);
		ctx.fillStyle = fillStyle;
		ctx.strokeStyle = strokeStyle;
		ctx.globalAlpha = globalAlpha;
		return this;
		};
/**
Stamp helper function - perform a &#x27;draw&#x27; method draw
@method draw
@param {Object} ctx JavaScript context engine for Cell&#x27;s &amp;lt;canvas&amp;gt; element
@param {String} cell CELLNAME string of Cell to be drawn on; by default, will use the Cell associated with this sprite&#x27;s Group object
@return This
@chainable
@private
**/
	my.Block.prototype.draw = function(ctx, cell){
		var here = this.prepareStamp();
		my.cell[cell].setEngine(this);
		this.rotateCell(ctx);
		ctx.strokeRect(here.x, here.y, (this.width * this.scale), (this.height * this.scale));
		return this;
		};
/**
Stamp helper function - perform a &#x27;fill&#x27; method draw
@method fill
@param {Object} ctx JavaScript context engine for Cell&#x27;s &amp;lt;canvas&amp;gt; element
@param {String} cell CELLNAME string of Cell to be drawn on; by default, will use the Cell associated with this sprite&#x27;s Group object
@return This
@chainable
@private
**/
	my.Block.prototype.fill = function(ctx, cell){
		var here = this.prepareStamp();
		my.cell[cell].setEngine(this);
		this.rotateCell(ctx);
		ctx.fillRect(here.x, here.y, (this.width * this.scale), (this.height * this.scale));
		return this;
		};
/**
Stamp helper function - perform a &#x27;drawFill&#x27; method draw
@method drawFill
@param {Object} ctx JavaScript context engine for Cell&#x27;s &amp;lt;canvas&amp;gt; element
@param {String} cell CELLNAME string of Cell to be drawn on; by default, will use the Cell associated with this sprite&#x27;s Group object
@return This
@chainable
@private
**/
	my.Block.prototype.drawFill = function(ctx, cell){
		var here = this.prepareStamp(),
			width = this.width * this.scale,
			height = this.height * this.scale;
		my.cell[cell].setEngine(this);
		this.rotateCell(ctx);
		ctx.strokeRect(here.x, here.y, width, height);
		this.clearShadow(ctx, cell);
		ctx.fillRect(here.x, here.y, width, height);
		return this;
		};
/**
Stamp helper function - perform a &#x27;fillDraw&#x27; method draw
@method fillDraw
@param {Object} ctx JavaScript context engine for Cell&#x27;s &amp;lt;canvas&amp;gt; element
@param {String} cell CELLNAME string of Cell to be drawn on; by default, will use the Cell associated with this sprite&#x27;s Group object
@return This
@chainable
@private
**/
	my.Block.prototype.fillDraw = function(ctx, cell){
		var here = this.prepareStamp(),
			width = this.width * this.scale,
			height = this.height * this.scale;
		my.cell[cell].setEngine(this);
		this.rotateCell(ctx);
		ctx.fillRect(here.x, here.y, width, height);
		this.clearShadow(ctx, cell);
		ctx.strokeRect(here.x, here.y, width, height);
		return this;
		};
/**
Stamp helper function - perform a &#x27;sinkInto&#x27; method draw
@method sinkInto
@param {Object} ctx JavaScript context engine for Cell&#x27;s &amp;lt;canvas&amp;gt; element
@param {String} cell CELLNAME string of Cell to be drawn on; by default, will use the Cell associated with this sprite&#x27;s Group object
@return This
@chainable
@private
**/
	my.Block.prototype.sinkInto = function(ctx, cell){
		var here = this.prepareStamp(),
			width = this.width * this.scale,
			height = this.height * this.scale;
		my.cell[cell].setEngine(this);
		this.rotateCell(ctx);
		ctx.fillRect(here.x, here.y, width, height);
		ctx.strokeRect(here.x, here.y, (this.width * this.scale), (this.height * this.scale));
		return this;
		};
/**
Stamp helper function - perform a &#x27;floatOver&#x27; method draw
@method floatOver
@param {Object} ctx JavaScript context engine for Cell&#x27;s &amp;lt;canvas&amp;gt; element
@param {String} cell CELLNAME string of Cell to be drawn on; by default, will use the Cell associated with this sprite&#x27;s Group object
@return This
@chainable
@private
**/
	my.Block.prototype.floatOver = function(ctx, cell){
		var here = this.prepareStamp(),
			width = this.width * this.scale,
			height = this.height * this.scale;
		my.cell[cell].setEngine(this);
		this.rotateCell(ctx);
		ctx.strokeRect(here.x, here.y, width, height);
		ctx.fillRect(here.x, here.y, width, height);
		return this;
		};

	return my;
	}(scrawl));

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
