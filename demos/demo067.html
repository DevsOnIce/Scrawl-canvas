<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Demo 067</title>
  <link href="css/normalize.css" rel="stylesheet" />
  <link href="css/demo.css" rel="stylesheet" />
</head>

<body>
  <h1><a href="index.html">Scrawl.js</a> - demonstration 067</h1>
  <h2>Text along a path</h2>
  <h3>Modules: path, factories, phrase, animation</h3>
  <canvas id="mycanvas" width="600" height="400"></canvas>
  <p id="testmessage"></p>
  <script src="../source/scrawlCore.js"></script>
  <script id="myscript">
    var mycode = function() {
      'use strict'
      var testTicker = Date.now(),
        testTime = testTicker,
        testNow,
        testMessage = document.getElementById('testmessage');

      //define variables
      var myGroup;

      //define groups
      myGroup = scrawl.newGroup({
        name: 'phrases',
      });

      //define sprites
      scrawl.makeEllipse({
        name: 'track',
        startX: 300,
        startY: 200,
        radiusX: 250,
        radiusY: 150,
        strokeStyle: '#dddddd',
        precision: 100,
      });

      scrawl.newPhrase({
        textAlign: 'center',
        name: 'chinese',
        font: '36pt "KaiTi", "楷体", STKaiti, "华文楷体", "Microsoft YaHei New", "Microsoft Yahei", "微软雅黑", STXihei, "华文细黑", SimSun, 宋体, Georgia, "Times New Roman", serif',
        text: '你好世界',
        textBaseline: 'middle',
        fillStyle: 'red',
        path: 'track',
        pathPlace: 0,
        deltaPathPlace: 0.001,
        addPathRoll: true,
        group: 'phrases',
        method: 'drawFill',
        textAlongPath: true,
        shadowColor: 'black',
        shadowOffsetX: 2,
        shadowOffsetY: 2,
        shadowBlur: 3,
      }).clone({
        name: 'english',
        font: '26pt monospace',
        fixedWidth: true,
        text: 'Hello world',
        textBaseline: 'alphabetic',
        fillStyle: 'blue',
        pathPlace: 0.25,
      }).clone({
        name: 'spanish',
        font: '32pt "Times New Roman", Times, serif',
        fixedWidth: false,
        fillStyle: 'gold',
        text: 'Olá mundo',
        pathPlace: 0.75,
      }).clone({
        name: 'russian',
        font: '30pt Helvetica, Arial, san-serif',
        fillStyle: 'lightblue',
        text: 'Привет мир',
        pathPlace: 0.5,
      });

      //animation object
      scrawl.newAnimation({
        fn: function() {
          myGroup.updateStart();
          scrawl.render();

          testNow = Date.now();
          testTime = testNow - testTicker;
          testTicker = testNow;
          testMessage.innerHTML = 'Milliseconds per screen refresh: ' + parseInt(testTime) + '; fps: ' + parseInt(1000 / testTime);
        },
      });
    };

    scrawl.loadModules({
        path: '../source/js/',
        minified: false,
        modules: ['path', 'factories', 'phrase', 'animation'],
        callback: function() {
          window.addEventListener('load', function() {
              scrawl.init();
              mycode();
            };
          },
        });
  </script>
</body>

</html>
