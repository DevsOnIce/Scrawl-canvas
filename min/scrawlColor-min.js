/*! scrawl-canvas 2017-01-29 */
if(window.scrawl&&window.scrawl.work.extensions&&!window.scrawl.contains(window.scrawl.work.extensions,"color"))var scrawl=function(a){"use strict";return a.makeColor=function(b){return new a.Color(b)},a.Color=function(b){return b=a.safeObject(b),a.Base.call(this,b),this.set(b),a.xt(b.color)&&this.convert(b.color),b.random&&this.generateRandomColor(b),this.checkValues(),a.design[this.name]=this,a.pushUnique(a.designnames,this.name),this},a.Color.prototype=Object.create(a.Base.prototype),a.Color.prototype.type="Color",a.Color.prototype.classname="designnames",a.work.d.Color={r:0,g:0,b:0,a:1,rShift:0,gShift:0,bShift:0,aShift:0,rMax:255,gMax:255,bMax:255,aMax:1,rMin:0,gMin:0,bMin:0,aMin:0,rBounce:!1,gBounce:!1,bBounce:!1,aBounce:!1,autoUpdate:!1},a.mergeInto(a.work.d.Color,a.work.d.Base),a.Color.prototype.get=function(b){return a.xt(b)?"random"===b?(this.generateRandomColor(),this.get()):a.Base.prototype.get.call(this,b):"rgba("+(this.r||0)+", "+(this.g||0)+", "+(this.b||0)+", "+a.xtGet(this.a,1)+")"},a.Color.prototype.clone=function(b){var c,d,e;return b=a.safeObject(b),c=this.parse(),d=a.mergeOver(c,b),e=a.makeColor(d),b.random&&(delete e.r,delete e.g,delete e.b,delete e.a,e.generateRandomColor(b)),e},a.Color.prototype.getData=function(){return this.get("autoUpdate")&&this.update(),this.checkValues(),this.get()},a.Color.prototype.generateRandomColor=function(b){var c=a.xtGet;return b=a.safeObject(b),this.rMax=c(b.rMax,this.rMax,255),this.gMax=c(b.gMax,this.gMax,255),this.bMax=c(b.bMax,this.bMax,255),this.aMax=c(b.aMax,this.aMax,1),this.rMin=c(b.rMin,this.rMin,0),this.gMin=c(b.gMin,this.gMin,0),this.bMin=c(b.bMin,this.bMin,0),this.aMin=c(b.aMin,this.aMin,0),this.r=b.r||Math.round(Math.random()*(this.rMax-this.rMin)+this.rMin),this.g=b.g||Math.round(Math.random()*(this.gMax-this.gMin)+this.gMin),this.b=b.b||Math.round(Math.random()*(this.bMax-this.bMin)+this.bMin),this.a=b.a||Math.random()*(this.aMax-this.aMin)+this.aMin,this.checkValues(),this},a.Color.prototype.checkValues=function(){var a=Math.floor(this.r)||0,b=Math.floor(this.g)||0,c=Math.floor(this.b)||0,d=this.a||1;return this.r=a>255?255:0>a?0:a,this.g=b>255?255:0>b?0:b,this.b=c>255?255:0>c?0:c,this.a=d>1?1:0>d?0:d,this},a.Color.prototype.set=function(b){return a.Base.prototype.set.call(this,b),b=a.safeObject(b),b.random?this.generateRandomColor(b):b.color?this.convert(b.color):this.checkValues(),this},a.Color.prototype.update=function(){var b,c,d,e,f,g,h,i=["r","g","b","a"],j=a.isBetween;for(b=0,c=i.length;c>b;b++)d=this[i[b]],e=this[i[b]+"Shift"],f=this[i[b]+"Min"],g=this[i[b]+"Max"],h=this[i[b]+"Bounce"],e&&(j(d+e,g,f,!0)||(h?e=-e:(d=d>(g+f)/2?g:f,e=0)),this[i[b]]=d+e,this[i[b]+"Shift"]=e);return this},a.Color.prototype.setDelta=function(b){return b=a.isa(b,"obj")?b:{},a.Base.prototype.set.call(this,{r:(this.r||0)+(b.r||0),g:(this.g||0)+(b.g||0),b:(this.b||0)+(b.b||0),a:(this.a||1)+(b.a||0)}),this.checkValues(),this},a.Color.prototype.convert=function(a){var b,c,d,e,f;return a=a.substring?a:"",a.length>0&&(a.toLowerCase(),b=0,c=0,d=0,e=1,"#"===a[0]?a.length<5?(b=this.toDecimal(a[1]+a[1]),c=this.toDecimal(a[2]+a[2]),d=this.toDecimal(a[3]+a[3])):a.length<8&&(b=this.toDecimal(a[1]+a[2]),c=this.toDecimal(a[3]+a[4]),d=this.toDecimal(a[5]+a[6])):/rgb\(/.test(a)?(f=a.match(/([0-9.]+\b)/g),/%/.test(a)?(b=Math.round(f[0]/100*255),c=Math.round(f[1]/100*255),d=Math.round(f[2]/100*255)):(b=Math.round(f[0]),c=Math.round(f[1]),d=Math.round(f[2]))):/rgba\(/.test(a)?(f=a.match(/([0-9.]+\b)/g),b=f[0],c=f[1],d=f[2],e=f[3]):"transparent"===a?b=c=d=e=0:(f=this.colorLibrary[a],f&&(b=parseInt(f[0]+f[1],16),c=parseInt(f[2]+f[3],16),d=parseInt(f[4]+f[5],16),e=1)),this.r=b,this.g=c,this.b=d,this.a=e,this.checkValues()),this},a.Color.prototype.colorLibrary={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffe4c4",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},a.Color.prototype.toHex=function(a){return a.toString(16)},a.Color.prototype.toDecimal=function(a){return parseInt(a,16)},a.Color.prototype.remove=function(){return delete a.dsn[this.name],delete a.design[this.name],a.removeItem(a.designnames,this.name),!0},a}(scrawl);